# DataFrames in Python

In Python, **DataFrames** are a **2-dimensional, labeled data structure** primarily provided by the **pandas** library. They are one of the most commonly used data structures in data analysis and machine learning because they make it easy to handle, analyze, and manipulate structured data.

Think of a DataFrame like an **Excel spreadsheet** or a **SQL table**:
* **Rows** represent records or observations.
* **Columns** represent variables or features.

### **Key Features of DataFrames**

1. **Labeled axes** – Rows and columns have labels (index for rows and column names for columns).
2. **Heterogeneous data** – Each column can store different data types (e.g., int, float, string).
3. **Size mutable** – You can insert or delete rows/columns.
4. **Integrated with NumPy** – Built on top of NumPy arrays for fast operations.
5. **Rich functionality** – Built-in methods for filtering, grouping, merging, and statistical operations.

---

## **Creating a DataFrame**

**To use DataFrames, you need to install pandas and numpy:**
```bash
pip install pandas numpy
```

**Import:**
```python
import pandas as pd
import numpy as np
```

### Creating a dataframe from an array 
```python
data = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
df = pd.DataFrame(data, index=["row1", "row2", "row3"], columns=['A', 'B', 'C'])
print(df)
```

### Creating a dataframe from a list 
```python
data = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
df = pd.DataFrame(data, index=["row1", "row2", "row3"], columns=['A', 'B', 'C'])
print(df)
``` 

### Creating a dataframe from a dictionary 
```python
states = ["California", "Texas", "Florida", "New York"]
population = [39538223, 29145505, 21477737, 19378102]

data = {
    'States': states,
    'Population': population
}

df = pd.DataFrame(data)
print(df)
```

### Creating a dataframe from a CSV file 
```python
df = pd.read_csv('data.csv')
print(df)
```

### Creating a dataframe from an Excel file 
```python
df = pd.read_csv('data.xlsx')
print(df)
```

**Multiple Excel sheets:**
```python
xls = pd.ExcelFile('data.xlsx')
df1 = pd.read_excel(xls, 'Sheet1')
df2 = pd.read_excel(xls, 'Sheet2')
```

---

## Displaying a DataFrame

### first 10 rows
```python
df.head(10)      
```

### last 5 rows
```python
df.tail(5)       
```

### display n rows
```python
pd.set_option('display.max_rows', 1000)
df
```

---

## Attributes

### column types
```python
df.dtypes        
```

### dimensions (Rows and columns)
```python
df.shape         
```

### index
```python
df.index
```

### column names
```python
df.columns       
```

---

## Methods

### structure & types
```python
df.info()        
```

### statistics
```python
df.describe()    
```

### count
```python
df['Column'].count()
```
# count elements by category
```python
df['gender'].value_counts()
df['gender'].value_counts(normalize=True) #divide all values by the sum of values
df['gender'].value_counts(normalize=True).round(2) #divide all values by the sum of values and round to 2 decimal places
```

---

## Functions

### obtaining the length of the dataframe (number of rows)
```python
len(df)
```

### obtaining the highest index of the dataframe
```python
max(df.index)
```

### obtaining the lowest index of the dataframe
```python
min(df.index)
```

### obtaining the data type
```python
type(df)
```

### rounding the values of the dataset
```python
round(df, 2)
```

---

## Selection

### Select a column by name
```python
df['col_Name']        
```

### Select a column by .
```python
df.col_Name
```

### Select multiple columns
```python
df[['col1', 'col2']]
```

---

## Adding

### Adding a new column with fixed number
```python
df['language score'] = 70
df
```

### Adding a new column with an array
```python
import numpy as np

new_col = np.arrange(0, 1000)
df["New Column"] = new_col
print(df)
```

### Adding a new colum with random integer numbers
```python
import numpy as np

new_col = np.random.randint(0, 100, size=1000)
df["New Column"] = new_col
print(df)
```

### Adding a new colum with random float numbers
```python
import numpy as np

new_col = np.random.uniform(0, 100, size=1000)
df["New Column"] = new_col
print(df)
```

### Adding with the `assign()` method
```python
import numpy as np

new_col = np.random.randint(0, 100, size=1000)
series = pd.Series(new_col, index=np.arange(0, 1000))
df = df.assign(new_col=series)
print(df)
```

### Adding with the `insert()` method
```python
 import numpy as np

new_col = np.random.randint(0, 100, size=1000)
series = pd.Series(new_col, index=np.arange(0, 1000))
df.insert(0, "New Column", series)
print(df)
```
---

## Sorting

### Sort by a column
```python
df.sort_values(by='Column', ascending=True) # will be sorted ascendingle
df.sort_values(by='Column', ascending=False) # will be sorted descendingly
```

### Sort by multiple columns
```python
df.sort_values(by=['Column1', 'Column2'], ascending=False) # priority to the first
df.sort_values(by=['Column1', 'Column2'], ascending=False, inplace=True) # updates the dataframe
```

---

## Create - Set - Sort index
```python
import numpy as np
import random

# creating non repetitive values for the index
new_index = np.arange(0, 1000)
new_index

# shuffling the indexes
random.shuffle(new_index)
new_index

# create a new column with new index
df['new_index'] = new_index
df

# set new_index column as index
df.set_index('new_index', inplace=True)
df

# sort dataframe by new index
df.sort_index()
```

---

## Renaming

### rename column
```python
df.rename(columns={'old_name': 'new_name'}, inplace=True)
```

### rename multiple columns
```python
df.rename(columns={'math score':'MS', 'reading score':'RS', 'writing score':'WS'}, inplace=True)
```

# rename index 
```python
df.rename(index={0:'A', 1:'B', 2:'C'}, inplace=True)
```

---

## Math Operations

### Calculate total sum
```python
df['Column'].sum()
```

### Calculate total mean
```python
df['math score'].mean()
```

### Calculate total standard deviation (std)
```python
df['math score'].std()
```

### Calculate total variance
```python
df['math score'].var()
```

### Calculate total minimum
```python
df['math score'].min()
```

### Calculate total maximum
```python
df['math score'].max()
```

### Calculate total median
```python
df['math score'].median()
```

### Calculate total mode
```python
df['math score'].mode()
```

### Calculate total correlation
```python
df['math score'].corr()
```

### Calculate total covariance
```python
df['math score'].cov()
```

### Calculate total skewness
```python
df['math score'].skew()
```

### Calculate total kurtosis
```python
df['math score'].kurt()
```

### Calculate total quantile
```python
df['math score'].quantile()
```

### Calculate total unique values
```python
df['math score'].unique()
```

### Calculate total unique values count
```python
df['math score'].nunique()
```

### Calculate the sum in a row
```python
df['math score'] + df['reading score'] + df['writing score']
```

### Calculate the average score and adding the result to a new column
```python
df['average'] = (df['math score'] + df['reading score'] + df['writing score'])/3
```

---