# Data Reshaping and Pivoting

## `pivot()`

- Reshape data based on column values.
- Dont support Data Aggregation.

**Syntax:**
```python
df.pivot(index=<indexCol>, columns=<columns>, values=<ValueCol>)
```

---

## `pivot_table()`

- Create a spreadsheet-style pivot table.
- Support Data Aggregation.

**Syntax:**
```python
df.pivot_table(index=<indexCol>, columns=<columns>, values=<ValueCol>, aggfunc=<aggfunc>)
```

**aggfunc:**
- Can be a string or a dict of functions.
- Default is `mean`.

| Aggregation Function | Description                    |
|----------------------|--------------------------------|
| "sum"                | Sum of values                  |
| "mean"               | Mean (average) of values       |
| "median"             | Median of values               |
| "min"                | Minimum value                  |
| "max"                | Maximum value                  |
| "count"              | Count of non-NA values         |
| "std"                | Standard Deviation             |
| "var"                | Variance                       |
| "prod"               | Product of values              |
| "first"              | First value                    |
| "last"               | Last value                     |
| "nunique"            | Number of unique values        |
| np.ptp               | Range (max - min), using NumPy |

---

## Exporting Pivot Tables

```python
df_pivot = df.pivot(index='year',
                    columns='country',
                    values='population')

# export pivot table
df_pivot.to_excel('pivot_table.xlsx')
```

---
