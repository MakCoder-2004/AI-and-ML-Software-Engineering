# Data Grouping And Aggregation

- Grouping data is the process of **organizing** data into groups or categories based on one or more variables. It helps in **cleaning**, **organizing**, and **analyzing** data efficiently by focusing only on the information that matters.


- Aggregation is the process of **combining** data from multiple sources or variables to create a summary or overview of the data. It helps in **cleaning**, **organizing**, and **analyzing** data efficiently by focusing only on the information that matters.

## `agg()` method

| **Function** | **Description**                                                     |
| ------------ | ------------------------------------------------------------------- |
| `sum`        | Returns the sum of values.                                          |
| `mean`       | Returns the mean (average) of values.                               |
| `median`     | Returns the median of values.                                       |
| `min`        | Returns the minimum value.                                          |
| `max`        | Returns the maximum value.                                          |
| `count`      | Counts the number of non-null values.                               |
| `size`       | Returns the size (number of elements), including NaN.               |
| `std`        | Returns the standard deviation.                                     |
| `var`        | Returns the variance.                                               |
| `prod`       | Returns the product of values.                                      |
| `first`      | Returns the first non-null value.                                   |
| `last`       | Returns the last non-null value.                                    |
| `nunique`    | Returns the number of unique values.                                |
| `mode`       | Returns the mode(s) of values.                                      |
| `sem`        | Returns the standard error of the mean.                             |
| `skew`       | Returns the skewness of the distribution.                           |
| `kurt`       | Returns the kurtosis (tailedness) of the distribution.              |
| `quantile`   | Returns value at a given quantile (e.g., 0.25 for 25th percentile). |
| `mad`        | Returns the mean absolute deviation.                                |


### single function
```python
df.agg('<Function_name>')
```

### multiple functions
```python
df.agg(['<Function_name>', '<Function_name>'])
```

### different aggregations per column
```python
df.agg({'Column_name' : ['<Function_name>', '<Function_name>'],
        'Column_name' : ['<Function_name>', '<Function_name>']})
```

### aggregate over columns
```python
df[['Column_name', 'Column_name']].agg('<Function_name>', axis=1)
```

### aggregate multiple functions over columns
```python
df[['Column_name', 'Column_name']].agg(['<Function_name>', '<Function_name>'], axis=1)
```

### rename the index of the resulting DataFrame
```python
df.agg(x=('Column_name', 'Function_name'), y=('Column_name', 'Function_name'))
```

---

## Split-Apply-Combine Strategy

### split data into separate groups
```python
Value1_filter = df['Column']=='value1'
Value2_filter = df['Column']=='value2'
```

### apply an operation
```python
Value1_average = df[Value1_filter]['Column'].mean()
Value2_average = df[Value2_filter]['Column'].mean()
```

### combine the results
```python
result = pd.DataFrame({'Value1_average': ['Value1', 'Value2'],
                       'Value2_average': [Value1_average, Value2_average]})
```

---

## `groupby()` method

### group by a specific column and calculate the mean
```python
df.groupby('Column_name').mean()
```

### group by a specific column and display only one column from the DataFrame
```python
df.groupby('Column_name').mean()['Column_name2']
```

### group by a column and count values without dropping NaN values
```python
df.groupby('Column_name', dropna=False).count()
```

### groups attribute and keys
```python
group = df.groupby('Column_name').groups.keys()
```

### get a specific group within a column
```python
group.get_group('Column_name')
```

---

## Using the `groupby()` and `agg()` methods together

### find the minimum and maximum values on each column
```python
df.groupby('Column_name').agg(['min', 'max'])
```

### set a name for aggregated column
```python
df.groupby('Column_name').agg(min_Value1=('Col1', 'min'),
                              max_Value2=('Col2', 'max'))
```

### group by multiple columns
```python
df.groupby(['Column_name', 'Column_name']).agg('<Function_name>')
```

---

