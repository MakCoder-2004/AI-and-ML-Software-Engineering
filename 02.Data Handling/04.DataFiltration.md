# Data Filtration
Data filtration is the process of **selecting**, **removing**, or **categorizing** specific rows or columns in a dataset based on given conditions. It helps in **cleaning**, **organizing**, and **analyzing** data efficiently by focusing only on the information that matters.

## Filtering rows based on conditions

**Find which rows have "X" in the specific column**
```python
df['column_name'] == 'X'
```

**Filter dataframe based on one condition**
```python
df[df['column_name']=='X']
```

**Filter dataframe based on multiple conditions**
```python
AND => (<condition 1>) & (<condition 2>)
# Example: df[(df['column_name']=='X') & (df['column_name2']=='Y')]
OR  => (<condition 1>) | (<condition 2>)
# Example: df[(df['column_name']=='X') | (df['column_name2']=='Y')]
```

**Count the number of rows in that specific column**
```python
df[df['column_name']=='X'].value_counts('column_name')
```

---

## Create a new column based on one condition using `np.where()`

**Syntax:**
```python
import numpy as np

np.where(df['column_name']=='X', "<if True>", "<if False>")
```

**Set a new column based on a condition**
```python
df['New_column'] = np.where(df['Column_name'] > 2000, 'Expensive', 'Inexpensive')
```

**Count values in the new column**
```python
df.value_counts('new_column')
```

---

## Create a new column based on multiple conditions using `np.select()`

**Create "conditions" and "values" lists**
```python
conditions = [
    (df['Column']>3000),
    (df['Column']>2000) & (df['Column']<=3000),
    (df['Column']>800) & (df['Column']<=2000),
    (df['Column']<=800)
]
choices = ['Too Expensive', 'Expensive', 'Affordable', 'Cheap']
```

**Set it to a new column**
```python
df['new_column'] = np.select(conditions, choices, default='Unknown')
```

**Count values in the new column**
```python
df.value_counts('new_column')
```

---

## Filtering using `isin()`

### Single column 

**Select data from a specific column**
```python
df['column_name'].isin(['X', 'Y'])
```

**Filter**
```python
df[df['column_name'].isin(['X', 'Y'])]
```

### Multiple columns

**Select data from specific columns**
```python
filter1 = df['column_name'].isin(['X', 'Y'])
filter2 = df['column_name2'].isin(['Z', 'W'])
```

**Filter**
```python
df[filter1 & filter2]
```

---

## Duplicates

### Single Column

**Find duplicates**
```python
df.duplicated("Column_name")
```

**Show Duplicates**
```python
df[df.duplicated("Column_name")]
```

### Multiple Columns

**Find duplicates**
```python
df.duplicated(["Column_name", "Column_name2"])
```

**Show Duplicates**
```python
df[df.duplicated(["Column_name", "Column_name2"])]
```

### Remove duplicates

**Remove all duplicates**
```python
df.drop_duplicates()
```

**Remove duplicates from specific columns**
```python
df.drop_duplicates(subset=["Column_name", "Column_name2"])
```

**Keep the first duplicate**
```python
df.drop_duplicates(subset=["Column_name", "Column_name2"], keep='first')
```

**Keep the last duplicate**
```python
df.drop_duplicates(subset=["Column_name", "Column_name2"], keep='last')
```

---

## Finding uniques and non-unique values

### `unique()` Method

**Find unique values in a column**
```python
df['Column_name'].unique()
```

**Count of the unique values**
```python
len(df['Column_name'].unique())
```

### `nunique()` Method

**Find non-unique values in a column**
```python
df['Column_name'].nunique()
```

**Count of the non-unique values**
```python
len(df['Column_name'].nunique())
```

---

## Reindexing rows in data

```python
df.drop_duplicates(['Column_name'], keep='first', ignore_index=True)
```
**OR**
```python
df.reset_index(drop=True, inplace=True)
```

---